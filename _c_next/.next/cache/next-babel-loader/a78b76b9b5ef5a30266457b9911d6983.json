{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"E:\\\\MONEYweb\\\\JOB\\\\4_myActivity\\\\0_REPO\\\\3_React_Practise\\\\c_next\\\\pages\\\\post\\\\[template].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useRouter } from 'next/router';\nimport Link from 'next/link';\nimport { MainLayout } from '../../layouts/MainLayout';\nexport default function Post(_ref) {\n  var post = _ref.post;\n  // const router = useRouter()\n  // console.log('router: ', router);\n  return __jsx(MainLayout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 8\n    }\n  }, __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 13\n    }\n  }, post.title, \" \"), __jsx(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 13\n    }\n  }), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 13\n    }\n  }, post.body), __jsx(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 13\n    }\n  }, __jsx(Link, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 17\n    }\n  }, \"Go back to\")));\n}\n_c = Post;\n\nPost.getInitialProps = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ctx) {\n    var response, post;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log('ctx.query.template: ', ctx.query.template);\n            _context.next = 3;\n            return fetch(\"http://localhost:4200/posts/\".concat(ctx.query.template));\n\n          case 3:\n            response = _context.sent;\n            _context.next = 6;\n            return response.json();\n\n          case 6:\n            post = _context.sent;\n            return _context.abrupt(\"return\", {\n              post: post\n            });\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}(); // <h1><Link href={'/'}>Post router.query.template = </Link>{router.query.template}</h1>\n// router: ServerRouter {\n//     route: '/post/[template]',\n//     pathname: '/post/[template]',\n//     query: {},\n//     asPath: '/post/[template]',\n//     basePath: '',\n//     events: undefined,\n//     isFallback: false\n// }\n// ответ клиенту(WebDevTools) router: {\n//     pathname: \"/post/[template]\",\n//     route: \"/post/[template]\",\n//     query: {\n//         …},\n//     asPath: \"/post/id\",\n//     components: {\n//         …},\n//     …\n// }\n// asPath: \"/post/id\" // !!! из адресной строки, где отрисована страница...Зачем возвращать мне набранный адрес?\n// back: ƒ()\n// basePath: \"\"\n// beforePopState: ƒ()\n// components: {\n//         /post/ [template]: {\n//             …},\n//         /_app: {…}}\n//         events: {\n//             on: ƒ,\n//             off: ƒ,\n//             emit: ƒ\n//         }\n//         isFallback: false\n//         pathname: \"/post/[template]\"\n//         prefetch: ƒ()\n//         push: ƒ()\n//         query: {\n//             template: \"id\"\n//         } // ключ - название файла !\n//         reload: ƒ()\n//         replace: ƒ()\n//         route: \"/post/[template]\"\n//         __proto__: Object\n\n\nvar _c;\n\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"sources":["E:/MONEYweb/JOB/4_myActivity/0_REPO/3_React_Practise/c_next/pages/post/[template].js"],"names":["useRouter","Link","MainLayout","Post","post","title","body","getInitialProps","ctx","console","log","query","template","fetch","response","json"],"mappings":";;;;;AAAA,SAAQA,SAAR,QAAwB,aAAxB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AAEA,SAAQC,UAAR,QAAyB,0BAAzB;AAEA,eAAe,SAASC,IAAT,OAAsB;AAAA,MAAPC,IAAO,QAAPA,IAAO;AACjC;AACA;AACA,SACG,MAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,IAAI,CAACC,KAAV,MADL,EAEK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFL,EAGK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAID,IAAI,CAACE,IAAT,CAHL,EAIK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAI,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAJ,CAJL,CADH;AASC;KAZmBH,I;;AAcxBA,IAAI,CAACI,eAAL;AAAA,uEAAuB,iBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACnBC,YAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCF,GAAG,CAACG,KAAJ,CAAUC,QAA9C;AADmB;AAAA,mBAEIC,KAAK,uCAAgCL,GAAG,CAACG,KAAJ,CAAUC,QAA1C,EAFT;;AAAA;AAEbE,YAAAA,QAFa;AAAA;AAAA,mBAGAA,QAAQ,CAACC,IAAT,EAHA;;AAAA;AAGbX,YAAAA,IAHa;AAAA,6CAIZ;AACHA,cAAAA,IAAI,EAAJA;AADG,aAJY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAvB;;AAAA;AAAA;AAAA;AAAA,I,CAUI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import {useRouter} from 'next/router'\r\nimport Link from 'next/link'\r\n\r\nimport {MainLayout} from '../../layouts/MainLayout'\r\n\r\nexport default function Post({post}) {\r\n    // const router = useRouter()\r\n    // console.log('router: ', router);\r\n    return (\r\n       <MainLayout>\r\n            <h1>{post.title} </h1>\r\n            <hr/>\r\n            <p>{post.body}</p>\r\n            <h5><Link>Go back to</Link></h5>\r\n\r\n       </MainLayout>\r\n       )\r\n    }\r\n\r\nPost.getInitialProps = async (ctx) => {\r\n    console.log('ctx.query.template: ', ctx.query.template);\r\n    const response = await fetch(`http://localhost:4200/posts/${ctx.query.template}`)\r\n    const post = await response.json()\r\n    return {\r\n        post\r\n    }\r\n}\r\n\r\n\r\n    // <h1><Link href={'/'}>Post router.query.template = </Link>{router.query.template}</h1>\r\n// router: ServerRouter {\r\n//     route: '/post/[template]',\r\n//     pathname: '/post/[template]',\r\n//     query: {},\r\n//     asPath: '/post/[template]',\r\n//     basePath: '',\r\n//     events: undefined,\r\n//     isFallback: false\r\n// }\r\n// ответ клиенту(WebDevTools) router: {\r\n//     pathname: \"/post/[template]\",\r\n//     route: \"/post/[template]\",\r\n//     query: {\r\n//         …},\r\n//     asPath: \"/post/id\",\r\n//     components: {\r\n//         …},\r\n//     …\r\n// }\r\n// asPath: \"/post/id\" // !!! из адресной строки, где отрисована страница...Зачем возвращать мне набранный адрес?\r\n// back: ƒ()\r\n// basePath: \"\"\r\n// beforePopState: ƒ()\r\n// components: {\r\n//         /post/ [template]: {\r\n//             …},\r\n//         /_app: {…}}\r\n//         events: {\r\n//             on: ƒ,\r\n//             off: ƒ,\r\n//             emit: ƒ\r\n//         }\r\n//         isFallback: false\r\n//         pathname: \"/post/[template]\"\r\n//         prefetch: ƒ()\r\n//         push: ƒ()\r\n//         query: {\r\n//             template: \"id\"\r\n//         } // ключ - название файла !\r\n//         reload: ƒ()\r\n//         replace: ƒ()\r\n//         route: \"/post/[template]\"\r\n//         __proto__: Object\r\n"]},"metadata":{},"sourceType":"module"}